<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Clarity tracking code for https://sarvstore.netlify.app/ -->
    <!-- Learning Note: This script tracks user behavior anonymously via Microsoft Clarity. It's optional but great for analytics on how people use your site. -->
    <script>
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sblm2l3woh");
    </script>
    <!-- Charset & Viewport -->
    <!-- Learning Note: UTF-8 handles international text (like Hindi/Sanskrit). Viewport makes it mobile-friendly. -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title (Max ~60 characters recommended) -->
    <title>Sarvstore ‚Äì Technology, Science & Books by Sarvwigyan</title>
    <!-- Meta Description (Max ~160 chars, concise and catchy) -->
    <meta name="description" content="Explore Sarvstore by Sarvwigyan ‚Äì your hub for books, AI tools, science, and open knowledge. Discover innovation and technology in one place.">
    <!-- Keywords (Not heavily used now, but still okay) -->
    <meta name="keywords" content="Sarvstore, Sarvwigyan, science, AI, technology, books, open knowledge, education, innovation">
    <!-- Author & Robots -->
    <meta name="author" content="Sarvwigyan">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="theme-color" content="#0a192f">
    <!-- Bing Webmaster Verification -->
    <meta name="msvalidate.01" content="C32F6CD84659D81F2BFD84929E418D05" />
    <!-- Canonical URL -->
    <link rel="canonical" href="https://sarvstore.netlify.app/">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://sarvwigyan.github.io/resources/Sarvstore.png" sizes="32x32">
    <!-- Manifest -->
    <!-- Learning Note: For PWA (Progressive Web App) - lets users "install" your site like an app. -->
    <link rel="manifest" href="manifest.json">
    <!-- Fonts & Icons -->
    <!-- Learning Note: Google Fonts for Roboto (clean, readable). Font Awesome for icons like chevrons and checks. -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">
    <!-- Open Graph for Facebook & LinkedIn -->
    <!-- Learning Note: These metas make your site look good when shared on social media. -->
    <meta property="og:title" content="Sarv Store ‚Äì The Universal Store of Knowledge">
    <meta property="og:description" content="Books, AI tools, tech projects, and more ‚Äì all at Sarv Store by Sarvwigyan.">
    <meta property="og:image" content="https://sarvwigyan.github.io/resources/Sarvstore.png">
    <meta property="og:url" content="https://sarvwigyan.github.io/sarvstore/">
    <meta property="og:type" content="website">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Sarv Store ‚Äì The Universal Store of Knowledge">
    <meta name="twitter:description" content="A one-stop platform by Sarvwigyan for books, science, AI, and education.">
    <meta name="twitter:image" content="https://sarvwigyan.github.io/resources/Sarvstore.png">
    <!-- Structured Data (JSON-LD for SEO) -->
    <!-- Learning Note: Helps search engines understand your site as an Organization. -->
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "Sarv Store",
          "url": "https://sarvstore.netlify.app/",
          "logo": "https://sarvwigyan.github.io/resources/Sarvstore.png",
          "sameAs": [
            "https://github.com/sarvwigyan",
            "https://sarvwigyan.github.io/"
          ],
          "description": "Sarv Store by Sarvwigyan is a universal platform offering science, AI, books, and educational resources."
        }
    </script>
    <script src="https://www.google.com/recaptcha/enterprise.js?render=6Ld18hcsAAAAAHxfjxcXSFKegmgP1azhTiJ_2Atg"></script>
</head>
<body>
    <!-- Main Header: Logo, Search Bar, Settings Gear -->
    <!-- Learning Note: Sticky header stays on top when scrolling. Flexbox aligns items nicely. -->
    <div class="header">
        <div class="header-logo">
            <img src="https://sarvwigyan.github.io/resources/Sarvstore.png" style="width: auto; height: 1.5em;" alt="Sarv Store logo">
            <h1 style="font-size: larger;">Sarvstore</h1>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search apps..." id="searchInput" aria-label="Search apps">
        </div>
        <div class="settings-icon" id="settingsIcon" role="button" aria-label="Open settings"><span class="gear-icon">‚öôÔ∏è</span></div>
    </div>

    <!-- Navigation Tabs -->
    <!-- Learning Note: ARIA roles for accessibility (screen readers). Tabs switch sections via JS. CodeX tab removed. -->
    <div class="tabs" role="tablist">
        <div class="tab-list">
            <div class="tab active" data-tab="all" role="tab" aria-selected="true" tabindex="0">All</div>
            <div class="tab" data-tab="books" role="tab" aria-selected="false" tabindex="0">Books</div>
            <div class="tab" data-tab="games" role="tab" aria-selected="false" tabindex="0">Games</div>
            <div class="tab" data-tab="productivity" role="tab" aria-selected="false" tabindex="0">Productivity</div>
            <div class="tab" data-tab="recent" role="tab" aria-selected="false" tabindex="0">Recently Viewed</div>
            <div class="tab hidden" data-tab="favorites" role="tab" aria-selected="false" tabindex="0">Favorites</div>
        </div>
    </div>

    <!-- Main Content Sections -->
    <!-- Learning Note: Each .section is hidden/shown by JS. Grid layout for cards is responsive. -->
    <div class="content">
        <!-- All Section (Active by Default) -->
        <div class="section active" id="all" role="tabpanel" aria-labelledby="all-tab">
            <h2 class="section-title">All Apps</h2>
            <div class="card-grid" id="allGrid"></div>
            <div class="no-results" id="allNoResults">No results found</div>
        </div>

        <!-- Books Section (With Filter Bar) -->
        <!-- Learning Note: Added filter bar here for books only. JS handles dropdowns and filtering. -->
        <div class="section" id="books" role="tabpanel" aria-labelledby="books-tab">
            <h2 class="section-title">Books</h2>
            <div class="books-filter-bar">
                <label for="booksFilter" class="filter-label">üìö Filter:</label>
                <div class="custom-select-wrapper">
                    <select id="booksFilter" onchange="handleMainFilterChange()" aria-label="Filter books">
                        <option value="">All Categories</option>
                        <option value="language">Language</option>
                        <option value="genre">Genre</option>
                        <option value="author">Author</option>
                    </select>
                    <i class="fas fa-chevron-down filter-dropdown-icon" id="mainFilterArrow" aria-hidden="true"></i>
                </div>
                <div class="custom-select-wrapper" id="languageFilterWrapper" style="display: none;">
                    <div class="multi-select-trigger" onclick="toggleLanguageDropdown()">
                        <span id="selectedLanguagesLabel">Select Language</span>
                        <i class="fas fa-chevron-down filter-dropdown-icon rotate-on-open" id="langDropdownArrow"></i>
                    </div>
                    <div class="multi-select-dropdown" id="languageCheckboxes">
                        <label><input type="checkbox" id="selectAllLanguages" onchange="toggleAllLanguages(this)"> Select All Languages</label>
                        <label><input type="checkbox" class="lang-checkbox" value="english"> English</label>
                        <label><input type="checkbox" class="lang-checkbox" value="hindi"> Hindi</label>
                        <label><input type="checkbox" class="lang-checkbox" value="sanskrit"> Sanskrit</label>
                    </div>
                </div>
            </div>
            <div class="card-grid" id="booksGrid"></div>
            <div class="no-results" id="booksNoResults">No results found</div>
        </div>

        <!-- Games Section -->
        <div class="section" id="games" role="tabpanel" aria-labelledby="games-tab">
            <h2 class="section-title">Games</h2>
            <div class="card-grid" id="gamesGrid"></div>
            <div class="no-results" id="gamesNoResults">No results found</div>
        </div>

        <!-- Productivity Section -->
        <div class="section" id="productivity" role="tabpanel" aria-labelledby="productivity-tab">
            <h2 class="section-title">Productivity</h2>
            <div class="card-grid" id="productivityGrid"></div>
            <div class="no-results" id="productivityNoResults">No results found</div>
        </div>

        <!-- Recently Viewed Section -->
        <div class="section" id="recent" role="tabpanel" aria-labelledby="recent-tab">
            <h2 class="section-title">Recently Viewed</h2>
            <div class="card-grid" id="recentGrid"></div>
            <div class="no-results" id="recentNoResults">No recently viewed items</div>
        </div>

        <!-- Favorites Section (Hidden by Default) -->
        <div class="section" id="favorites" role="tabpanel" aria-labelledby="favorites-tab">
            <h2 class="section-title">Favorites</h2>
            <div class="card-grid" id="favoritesGrid"></div>
            <div class="no-results" id="favoritesNoResults">No favorite items yet</div>
        </div>

        <!-- Featured Section (Shows Under All) -->
        <!-- Learning Note: Horizontal scroll for featured items. CSS hides it unless "All" is active. -->
        <div class="featured-section">
            <h2 class="section-title">Featured Apps</h2>
            <div class="card-grid" id="featuredGrid"></div>
        </div>
    </div>

    <!-- Detail View Modal (For Item Details) -->
    <!-- Learning Note: Role="dialog" for accessibility. JS populates this on card click. -->
    <div class="detail-view" id="detailView" role="dialog" aria-modal="true">
        <button class="close-btn" id="closeBtn" aria-label="Close details">√ó</button>
        <div class="detail-container">
            <div class="detail-header">
                <img class="detail-logo" id="detailLogo" src="" alt="Selected app logo">
                <div class="detail-info">
                    <div class="detail-title" id="detailTitle"></div>
                    <div class="detail-type" id="detailType"></div>
                    <div class="detail-verified" id="detailVerified"></div>
                    <button class="detail-download" id="detailDownload">Download</button>
                </div>
            </div>
            <div class="detail-description">
                <div class="detail-short-desc" id="detailShortDesc"></div>
                <div class="detail-long-desc" id="detailLongDesc"></div>
                <div class="detail-images" id="detailImages"></div>
            </div>
        </div>
    </div>

    <!-- Book Viewer Modal (For PDFs) -->
    <!-- Learning Note: Iframe embeds PDF viewer. JS sets src on download click for books. -->
    <div class="book-modal" id="bookModal" role="dialog" aria-modal="true">
        <div class="book-modal-content">
            <button class="book-modal-close" id="bookModalClose" aria-label="Close book viewer">√ó</button>
            <iframe id="bookIframe" class="book-iframe" title="Book viewer"></iframe>
        </div>
    </div>

    <!-- Overlay (Darkens Background for Modals) -->
    <div class="overlay" id="overlay"></div>

    <!-- Settings Modal -->
    <!-- Learning Note: Theme selector and favorites toggle. JS saves to localStorage. -->
    <div class="settings-window" id="settingsWindow" role="dialog" aria-modal="true">
        <h2>Settings</h2>
        <div class="settings-option">
            <label for="theme">Theme</label>
            <select id="theme" aria-label="Select theme">
                <option value="dark">Dark</option>
                <option value="light">Light</option>
                <option value="pure">Pure</option>
            </select>
        </div>
        <div class="settings-option">
            <label for="enableFavorites">Enable Favorites Tab</label>
            <input type="checkbox" id="enableFavorites" aria-label="Enable Favorites tab">
        </div>
        <button id="saveSettings">Save</button>
    </div>

    <!-- Footer -->
    <!-- Learning Note: Simple links - make them real hrefs later for About/Contact pages. -->
    <footer>
        <p>¬© 2023 Sarv Store. All rights reserved.</p>
        <nav>
            <a href="#">About</a>
            <a href="#">Contact</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="#">Help</a>
        </nav>
    </footer>

    <!-- Load Main Script -->
    <!-- Learning Note: script.js handles all dynamic stuff: tabs, search, modals, data rendering. -->
    <script src="script.js"></script>
</body>
</html>